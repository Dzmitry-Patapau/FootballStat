@using FootballStats.Components;
@using FootballStats.Data.Identity;
@model IEnumerable<TeamStatistics>;
@{
    ViewData["Title"] = "DetailsLeague";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

@{
    int position = 1;
    int liga = Model?.FirstOrDefault()?.LeagueID ?? -1;
}
<h1 style="text-align:center">League table</h1>
<table class="table table-striped table-bordered">
    <thead style="background-color: #007bff; color: white; font-weight: bold;">
        <tr>
            <th scope="col">Position</th>
            <th scope="col">Team</th>
            <th scope="col">Matches Played</th>
            <th scope="col">Wins</th>
            <th scope="col">Draws</th>
            <th scope="col">Losses</th>
            <th scope="col">Points</th>
            <th scope="col">Goals Scored</th>
            <th scope="col">Goals Conceded</th>
        </tr>
    </thead>
    <tbody>
        @foreach (var team in Model)
        {
            <tr style ="background-color: #f2f2f2;">
                <td>@position</td>
                <td style="text-align:left"><img src="@team.Team.Logo" class="logo" width="50" height="50"> @team.Team.Name</td>
                <td>@team.MatchesPlayed</td>
                <td>@team.Wins</td>
                <td>@team.Draws</td>
                <td>@team.Losses</td>
                <td>@team.Points</td>
                <td>@team.GoalsScored</td>
                <td>@team.GoalsConceded</td>
            </tr>
            position++;
        }
    </tbody>
</table>

<component type="typeof(AllMatch)" render-mode="ServerPrerendered" param-LeagueId="liga" />

 @section Scripts{
    <script src="_framework/blazor.server.js"></script>
    }